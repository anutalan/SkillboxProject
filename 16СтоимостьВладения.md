---
## 16. Стоимость владения системой 

*Стоимость владения системой в первый, второй и пятый годы с учётом роста данных и базы пользователей*

Необходимо привести все затраты с учетом классификации:

OpEX  - операционные затраты\ обслуживание
 - повторяющиеся ежемесячно или ежегодично на текущую деятельность
 - списываются в отчет о прибыли или убытке в тот же период
   
CapEX - капитальные затраты\ покупка
 - одноразовые или долгосрочные вложения, которые приносят прибыль через год и более
 - не списываются в прибыль и убыток сразу, а амортизируются в течение нескольких лет

###  1. Инфраструктурные расходы 

*Расходы растут с приростом регионов\ ЦОДов, но не все ресурсы задействуются в облаках и в этом возникает экономия, хотя и небольшая*

#### Услуги

Облачные инфраструктурные услуги на один ЦОД (у каждого провайдера разная стоимость и сами сервисы):
- kubernates кластеры;
  - виртуальные машины - аренда ресурсов
  - registries - обнаружение микросервисов автоматическое;
  - gateways - маршрутизация, балансирова, защита от ddos атак;
- CDN  - хранение статики фронта;
- облачный сервис авторизации и аутентификации (IdP); 
- БД (PostgerSQL + MongoDB + Neo4j)  - обеспечение хранения данных x3 реплики, аренда в облаке;
- kafka кластер - обеспечение хранения данных и управление кластером, оплата за ресурсы предоставленные;
- сетевой трафик между облаками  - расходы за передачу данных;
- мониторинг (Prometheus + Grafana) - сбор метрик и визуализация в дашбордах;
- dwh (Liquibase) + BI + ML - сбор и аналитика данных;
- сервис нотификации - отправка пуш, смс, почтовых уведомлений;
- резервное копирование - бэкапы.


#### ЦОДы

|Стенды| 1 год - 1 облако | 2 года - 1 облако | 5 лет - 3 облака | 
|-------|--------|-------|-------|
|Прод| ЦОД + резерв | 6 ЦОД + резерв | (8 ЦОД + резерв) *3  | 
|Препрод| ЦОД + резерв | 2 ЦОД + резерв | (2 ЦОД + резерв) *3 | 
|Тест| ЦОД | ЦОД | ЦОД *3 |  
|Нагрузка| ЦОД + резерв | 2 ЦОД + резерв | (2 ЦОД + резерв) *3 | 
|Разработка| ЦОД | ЦОД | ЦОД *3 |
| Итого | 8 ЦОД | 15 ЦОД | 17 ЦОД *3|


Активный пользователь выдает ежемесячно:
- 10 тренировок * 20 MБ = 200 MБ
- 50 MБ в месяц на посты и переписку в социальных сетях
  
Итого в месяц: 250 МБ

В год: 3 ГБ


|Год| Активных пользователей | Всего пользователей| Объем данных |  Объем данных общий | 
|-------|--------|-------|-------|-------|
|1| 20 000 | 100 000 | 50 ТБ  | 200 ТБ  | 
|2| 200 000 | 1 000 000 | 600 ТБ | 2 400 ТБ  | 
|5| 20 000 000 | 100 000 000 | 7 000 ТБ (7 ПБ) |  21 ПБ  | 

*И данные хранятся в 4 копиях: мастер + резерв + архив + BI*

Каждый облачный провайдер подбирает свой тариф, который зависит от итоговых максимально расчитанных результатов по:
- объему хранения данных 
- нужной инфраструктуре на 1 ЦОД
- услуг поддержки такого ЦОДа 
- сетевой трафик

Зафиксируем примерную стоимость обслуживания одного такого ЦОДа в год: X XXX XXX рублей в год  -  OpEX

Надо понимать,  что тариф действует на использование инфраструктуры, за их обслуживание, а не за покупку данной инфраструктуры, серверов, - нужно будет платить каждый год данную сумму за каждый такой ЦОД, как он появиляется. 
Само введение в эксплуатацию может происходить плавно в течение года, так что стоимость будет более плавно возрастающая. И по факту использоватения не все ресурсы памяти будут использованы, что тоже скажется на удешевлении общей стоимости.

| Временной период | Кол-во лет | Максималькая формула стоимости за год| Количество новых добавляемых ЦОД| Классификация затрат |
|-------|--------|-------|-------|-------|
| [0-1 год] | первый год | 8 ЦОДов * X XXX XXX рублей | 8 шт | OpEX |
| (1-2 год] | второй год | 15 ЦОДов * X XXX XXX рублей | 7 шт | OpEX |
|( 2-5 года] | три года | 51 ЦОДов * X XXX XXX рублей | 2 шт + 17шт* 2 облака | OpEX |


###  2. Лицензии и сертификаты

- лицензии регулярныые - OpEX
  - использование api IoS, Android, карт Яндекс
  - другое
- сертификация (на несколько лет возможна) - CapEX
  - пинтесты
  - другое
   
###  3. Команды

Команды и их зарплаты - OpEX

Каждый год прогноз зарплат должен увеличиваться на 10-20 процентов

#### Технические специалисты
- продакты
- разработчиков
- бизнес, системные аналитиков
- тестировщиков
- поддержка техническая
- колл центр
- devOps - возможно сотрудники облаков
- data специалисты для ML

#### Бизнес
- Маркетологи
- Юристы
- Бухгалтерия
- Отдел управления персоналом
- Экономисты
- Менеджеры по продажам
- Контент менеджеры

###  4. Бизнес расходы

Расходы на поддержание бизнеса  - OpEX

- налоги
- маркетинг, реклама - заказы у сторонних организаций
- издержки на юридические жалобы
- обучение персонала
- офис для сотрудников
