---
## 15. Анализ рисков архитектуры
*Анализ рисков созданной архитектуры, компромиссов*

###  1. Компромис в размере микросервисов
Возможно деление на максимально независимые домены, что влечет за собой бенефиты в масштабируемости и независимой разработке разными командами.
Но можно ошибиться с разделением на домены и со временем некоторые сервисы будут расти очень быстро,  в скором времени можно прийти к необходимости декомпозиции тесносвязанной бизнес логики на более простые сервисы (обработчики) - риск рефакторинга. Но это одна грань, а другая, когда слишком мелко разделить сервисы и с ними невозможно будет работать, архитектура будет становиться слишком сложной, необъятной. И со временем возникнет много зависимостей и много сетевых вызовов между этими сервисами, и основная сложность для бизнес логики будет в необходимости создавать распределенные транзакции. 

###  2. Использование нескольких облаков
Облака дают большую гибкость и устойчивость, можно пользоваться услугами внешнего администрирования, но взаимодействие компонент из разных облаков влечет за собой сетевые издержки и платить за использование разных облаков придется дороже. 
Необходимо будет продумать какие компоненты стоит продублировать в каждом облаке, в каждом цоде внутри облака, чтобы минимизировать сетевые обращения (за которые отдельно платят), а какие стоит вынести отдельно (auth) при необходимости в главный цод одного облака, а какие в самый главный цод всех облаков приложения. Между облаками разной юрисдикции можно передавать данные только ананимизированные и поэтому можно отдавать уже готовые агрегации для моделей ML в один единый цод на все облака.
Какие-то новости можно тиражировать как отдельные посты в каждом цоде, собирая комментарии внутри каждого из них, а какие-то публиковать без комментариев (чтобы пользователи не видели комментарии друг друга из разных цодов и тем более облаков) только на чтение.

Для такой большой страны, как Россия, большие регионы могут иметь отдельные цоды, а некоторые небольшие соседские могут совмещать один цод. Кроме этого, можно не всем цодам выделять резервные, а резервные делать цоды соседних регионов, - так можно сэкономить на резеврных цодах, на которые переключаются и так в редких случаях.
В текущих реалиях для больших регионов с разными странами облачные инфраструктуры подстраиваются под определенные законы этого географического региона и таким образом делят мировой рынок при наличии схожести своих юрисдикций. Чтобы быть уверенным в исользуемом провайдере и не попадать на риск в различиях политик безопасности в том числе, для храненния данных каждой страны должны быть определены разрешенные облачные провайдеры, - их и будем использовать. 

###  3. Обеспечение пользователя приватными настройками
Необходимо обезопасить пользователя защитой своих данных настройками видимости, в том числе ананимности сравнения персональных тренировок с тренировками других пользователей. Для расскрытия любых результатов нужно собирать согласия, так как пользователь может не захотеть участвовать в общем рейтинге или делиться результатами со своими друзьями. За такие нарушения выставляются приличные штрафы, пользователь перестает доверять платформе, а она несет репутационные риски, теряя клиентов.
При удалении профиля клиент имеет право отозвать свои согласия и данные из системы должны будут удалены или сразу или через определенное кол-во лет действия этого согласия, если явно он его не отозвал.

###  4. Интеграция с IoT устройствами
Необходимо отслеживать появившиеся новые тренды на рынке, быстро уметь дорабатывать существующие api, тем более если они не стандартизированные. Поэтому да, сначала поддержать стандартные подключения, потом уже отслеживать рынок и подключать поэтапно специфичные устройства. Риск заключается в том ,что реализованные адаптеры будут не подходить и для раскрученных новых устройств срочно нужно будет дорабатаывать новые адаптеры и api и логику вывода информации для пользователя (новые показатели, которых не было ранее на платформе). И если не следить за изменениями существующих интеграций, то есть риск в один день получить неработающий сервис, который без обратной совместимости перешел на новую версию или новые методы.
Так есть риск потери клиентов и получить кучу обращений о проблемах с устройствами. 
